if("undefined"==typeof $namespace){var $namespace=null,$global=null,$import=null;!function(a){"use strict";var b=function(a){Object.defineProperty(this,"name",{value:a.name,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"fullName",{value:a.fullName,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"parent",{value:a.parent,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"declareClass",{value:function(a,b){if(this.hasOwnProperty(a))console.warn("Trying to define '"+a+"' class while it is already declared on '"+this.fullName+"' namespace");else{var c=d.declareClass(a,this,b);Object.defineProperty(this,a,{value:c,writable:!1,configurable:!1,enumerable:!0}),$namespace._classes[this.fullName+"."+a]=c}},writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this,"declareEnum",{value:function(a,b){if(this.hasOwnProperty(a))console.warn("Trying to define '%s' enumeration while it is already declared on '%s' namespace",a,this.fullName);else{var c=d.declareEnum(a,this,b);Object.defineProperty(this,a,{value:c,writable:!1,configurable:!1,enumerable:!0}),$namespace._classes[this.fullName+"."+a]=c}},writable:!1,enumerable:!0,configurable:!1})};Object.freeze(b),$global=new b({name:"$global",fullName:"$global",parent:null});var c={get isIE(){if(!window)return!1;var a=document.createElement("div");return a.innerHTML="<!--[if IE]><i></i><![endif]-->",1==a.getElementsByTagName("i").length||navigator.userAgent.toLowerCase().indexOf("trident")>0},get isWebkit(){var a=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),b=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);return a||b}};Object.freeze(c);var d={declareClass:function(b,c,e){var f=null;!e&&this?e=this:e||this||(e={}),f=e.$inmutable===!0&&Object.freeze?function(b,c){d.buildObject(this,b,c===a),Object.freeze(this)}:e.dynamic===!1&&Object.preventExtensions?function(b,c){d.buildObject(this,b,c===a),Object.preventExtensions(this)}:function(b,c){d.buildObject(this,b,c===a)},f.prototype=new $global.joopl.Object;var g=null;if(g=e.ctor?e.ctor:function(){},Object.defineProperty(f.prototype,"ctor",{value:g,writable:!1,configurable:!1,enumerable:!1}),e.members){var h=null;for(var i in e.members)if(h=Object.getOwnPropertyDescriptor(e.members,i),"function"==typeof h.value)f.prototype.hasOwnProperty(i)?Object.defineProperty(f.prototype,i,{value:e.members[i]}):Object.defineProperty(f.prototype,i,{value:e.members[i],writable:!1,configurable:!0,enumerable:!0});else if("events"==i&&"object"==typeof h.value)for(var j in h.value)d.createEvent(f.prototype,h.value[j]);else(h.hasOwnProperty("value")||h.hasOwnProperty("get")||h.hasOwnProperty("set"))&&d.createPropertyFromDescriptor(f,i,h)}e.inherits&&(d.buildInheritance(f,e.inherits),Object.defineProperty(f.prototype,"__base__",{value:e.inherits,writable:!1,configurable:!1,enumerable:!1}));var k=!1;if(Array.isArray(e.attributes)){for(var l in e.attributes)if(!(e.attributes[l]||e.attributes[l].isTypeOf instanceof Function||e.attributes[l].isTypeOf($global.joopl.Attribute)))throw new $global.joopl.ArgumentException({argName:"attributes",reason:"A non-attribute type given as attribute"});k=!0}if("function"==typeof $global.joopl.Type){var m={configurable:!0,enumerable:!0,writable:!1,value:new $global.joopl.Type({name:b,baseType:e.inherits?e.inherits.type:null,namespace:c,attributes:k?e.attributes:[]})};Object.defineProperty(f,"type",m),Object.defineProperty(f.prototype,"type",m)}return f},declareEnum:function(a,b,c){if("object"!=typeof c)throw new $global.joopl.ArgumentException({argName:"enumDef",reason:"No definition for the enumeration given"});var d=function(){};d.prototype=new $global.joopl.Object;var e,f=[];for(var g in c){if("number"!=typeof c[g])throw new $global.joopl.ArgumentException({argName:"enumDef",reason:"An enumeration definition must contain numeric properties only"});e=new Number(c[g]),e.enum=new $global.joopl.EnumValue({value:e,name:g}),Object.defineProperty(d,g,{value:e,configurable:!1,enumerable:!0,writable:!1}),f.push(g)}return Object.defineProperty(d,"valueNames",{value:f,configurable:!1,enumerable:!0,writable:!1}),Object.defineProperty(d,"type",{value:new $global.joopl.Type({name:a,fullName:b.fullName+"."+a,namespace:b}),writable:!1,configurable:!1,enumerable:!0}),Object.freeze(d),d},createPropertyFromDescriptor:function(a,b,c,d){d&&(c.get&&(c.get=c.get.bind(d)),c.set&&(c.set=c.set.bind(d))),Object.defineProperty(d?d:a.prototype,b,c)},createProperty:function(a,b,c,d,e){"undefined"==typeof e&&(e=!1),a.prototype.hasOwnProperty(b)||("undefined"!=typeof c&&"undefined"!=typeof d?Object.defineProperty(a.prototype,b,{get:c,set:d,configurable:!e,enumerable:!0}):"undefined"!=typeof c?Object.defineProperty(a.prototype,b,{get:c,configurable:!e,enumerable:!0}):"undefined"!=typeof d&&Object.defineProperty(a.prototype,b,{set:d,configurable:!e,enumerable:!0}))},createEvent:function(a,b){Object.defineProperty(a,b,{get:function(){return this._.hasOwnProperty("__eventManager__")||Object.defineProperty(this._,"__eventManager__",{value:new $global.joopl.EventManager({source:this}),configurable:!1,writable:!1,enumerable:!0}),this._.__eventManager__.hasOwnProperty(b)||this._.__eventManager__.register(b),this._.__eventManager__[b]},configurable:!1,enumerable:!0})},buildObject:function(a,b,c){return a.__base__ instanceof Function?(Object.defineProperty(a,"base",{get:function(){return a.__base__ instanceof Function&&Object.defineProperty(a,"__base__",{value:new a.__base__(b,!1),configurable:!1,writable:!1,enumerable:!1}),a.__base__},configurable:!1,enumerable:!0}),Object.defineProperty(a,"__fields__",{value:a.base._,writable:!1,configurable:!1,enumerable:!1})):Object.defineProperty(a,"__fields__",{value:{},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(a,"derived",{value:a,writable:!1,configurable:!0,enumerable:!1}),c&&a.ctor.call(a,b),a},buildInheritance:function(a,b){if(null!=b){var c=null;for(var d in b.prototype)a.prototype.hasOwnProperty(d)||$global.joopl.Object.prototype.hasOwnProperty(d)||(c=Object.getOwnPropertyDescriptor(b.prototype,d),c?"function"==typeof c.value?Object.defineProperty(a.prototype,d,{value:b.prototype[d],writable:!1,enumerable:!0,configurable:!0}):this.createPropertyFromDescriptor(a,d,c):"function"==typeof b.prototype[d]&&Object.defineProperty(a.prototype,d,{value:b.prototype[d],writable:!1,enumerable:!0,configurable:!1}))}return b?b.prototype:null},hasValue:function(b){return b!==a&&null!=b}};Object.freeze(d),$import={_dependencyMaps:{},_loadedFiles:[],mapMany:function(a){for(var b in a)this.map(b,a[b])},map:function(a,b){this._dependencyMaps.hasOwnProperty(a)||(this._dependencyMaps[a]=b)},modules:function(a,b){var c="undefined"!=typeof b;if("string"==typeof a&&(a=[a]),!(a instanceof Array))throw new $global.joopl.ArgumentException({argName:"moduleFileNames",reason:"This argument is mandatory"});var d=Object.keys(this._dependencyMaps).length>0&&"undefined"!=typeof head&&"undefined"!=typeof window.head.js;if(d){var e=this._dependencyMaps,f=[],g=null,h=null;for(var i in a)if(g=e[a[i]],g instanceof Array)for(var j in g)h=g[j],-1==this._loadedFiles.indexOf(h)&&(this._loadedFiles.push(h),f.push(h));f.length>0?(c&&f.push(function(){b()}),head.js.apply(window,f)):b()}else b()}},Object.freeze($import),$namespace={_namespaces:{},_classes:{},__register__:function(a){var c="string"==typeof a?a.split("."):null;if(!this._namespaces.hasOwnProperty(a))for(var d=$global,e=null,f=[],g=0;g<c.length;g++){if(e=c[g],f.push(e),"undefined"==typeof d[e]){var h=new b({parent:d,name:e,fullName:f.join(".")});Object.defineProperty(d,e,{value:h,writable:!1,configurable:!1,enumerable:!0}),this._namespaces[h.fullName]=h}d=d[e]}},using:function(){for(var a=[],b=this,c=null,d=null,e=0;e<arguments.length;e++)if(d=arguments[e],"function"==typeof d)c=d;else{if("string"!=typeof d)throw new $global.joopl.ArgumentException({argName:"paths",reason:"Some of given namespace paths is not a string literal"});b._namespaces.hasOwnProperty(d)||b.__register__(d),a.push(b._namespaces[d])}if(null==c)throw new $global.joopl.ArgumentException({argName:"scopeFunc",reason:"No namespace scope function given"});c.apply(a,a)}},Object.freeze($namespace),$namespace.using("joopl",function(a){a.Object=function(){},a.Object.prototype={get joopl(){return"2.5.0"},get _(){return this.__fields__},isTypeOf:function(a){var b=this,c=!1;if(this instanceof a)c=!0;else for(;!c&&b.base;)(c=b.base instanceof a)||(b=b.base);return c}},a.declareClass("Type",{ctor:function(a){this._.attributes=a.attributes,this._.name=a.name,this._.namespace=a.namespace,this._.baseType=a.baseType},members:{get name(){return this._.name},get fullName(){return this.namespace.fullName+"."+this.name},get baseType(){return this._.baseType},get namespace(){return this._.namespace},get attributes(){return this._.attributes},getAttribute:function(a){for(var b=!1,c=0;!b&&c<this.attributes.length;)this.attributes[c]instanceof a?b=!0:c++;return b?this.attributes[c]:null},hasAttribute:function(a){return null!=this.getAttribute(a)}}}),a.declareClass("Attribute",{members:{}});a.declareClass("EnumValue",{ctor:function(a){this._.value=a.value,this._.name=a.name},members:{get value(){return this._.value},get name(){return this._.name},or:function(a){var b=this.value|a,c=new Number(b);return c.enum=new $global.joopl.EnumValue({value:b}),Object.freeze(c),c},and:function(a){var b=this.value&a,c=new Number(b);return c.enum=new $global.joopl.EnumValue({value:b}),Object.freeze(c),c},hasFlag:function(a){return(this.value&a)===Number(a)}}});a.Enum=new(d.declareClass("Enum",this,{members:{parseName:function(a,b){if(a.valueNames.indexOf(b)>-1)return a[b];throw new scope.ArgumentException({argName:"valueName",reason:"Given value name could not be found as value of the given enumeration type"})},parseNames:function(a,b){if(!b||"string"!=typeof b)throw new scope.ArgumentException({argName:"valueName",reason:"Wrong value names"});for(var c=b.replace(" ","").split(","),d=0,e=0;e<c.length;e++)d+=this.parseName(a,c[e]);return new $global.joopl.EnumValue({value:d})}}})),a.declareClass("Event",{ctor:function(a){this._.handlers=[],this._.source=a.source},members:{get handlers(){return this._.handlers},get source(){return this._.source},addEventListener:function(a){var b=this.handlers.indexOf(a);-1==b&&this.handlers.push(a)},removeEventListener:function(a){var b=this.handlers.indexOf(a);b>=0&&this.handlers.splice(b,1)},raise:function(a){if(this.handlers.length>0)for(var b in this.handlers)this.handlers[b].call(a?a.$this?a.$this:this.source:this.source,a?a.args?a.args:null:null)}}}),a.declareClass("EventManager",{ctor:function(a){this._.source=a.source},members:{get source(){return this._.source},register:function(a){this.source;Object.defineProperty(this,a,{value:new $global.joopl.Event({source:this.source}),writable:!1,configurable:!1,enumerable:!0})}}}),a.declareClass("Environment",{members:{events:["exceptionThrown"],notifyException:function(a){this.exceptionThrown.raise({args:{thrownException:a}})}}}),Object.defineProperty(a.Environment,"current",{value:new a.Environment,writable:!1,configurable:!1,enumerable:!0}),a.declareClass("Exception",{ctor:function(a){this._.message=a.message,this._.innerException=a.innerException;var b=Error(a.message);if(c.isIE)try{throw b}catch(d){b=d}for(var e=b.stack.split("\n"),f=!1,g=c.isIE||c.isWebkit?0:-1,h=c.isIE||c.isWebkit?/(joopl[.A-Za-z0-9]+\.js[:0-9]+\)$)|(at Error)/:/joopl[.A-Za-z0-9]+\.js[:0-9]+$/;!f&&g<e.length;)h.test(e[++g])||(f=!0);f&&(e.splice(0,g),this._.stackTrace=e),this._.error=b,$global.joopl.Environment.current.notifyException(this._.derived)},members:{get message(){return this._.message},get innerException(){return this._.innerException},get stackTrace(){return this._.stackTrace},get error(){return this._.error},toString:function(){var a="An exception of type '"+this.type.fullName+"' has been thrown with message '"+this.message+"'\n\n";return a+="Stack trace:\n_________________________\n\n",a+=this.stackTrace.join("\n")}}}),a.declareClass("ArgumentException",{inherits:a.Exception,ctor:function(a){this._.argName=a.argName;var b="The given argument '"+a.argName+"' is not valid";a.reason&&(b+=" (Reason: "+a.reason+")"),this.base.ctor({message:b})},members:{get argName(){return this._.argName}}}),a.declareClass("NotImplementedException",{inherits:a.Exception,ctor:function(a){this.base.ctor({message:d.hasValue(a)&&d.hasValue(a.memberName)?"Method or property '"+a.memberName+"' is not implemented":"A method or property is not implemented"}),this._.memberName=a.memberName},members:{get memberName(){return this._.memberName}}})})}(void 0)}