<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>jOOPL: Attribute - { joopl };</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
   <!-- <script src="../assets/../api.js"></script>
    <script src="../assets/js/api-filter.js"></script>
    <script src="../assets/js/api-list.js"></script>
    <script src="../assets/js/api-search.js"></script>
    <script src="../assets/js/apidocs.js"></script>-->
</head>
<body class="yui3-skin-sam">
    <a href="https://github.com/you"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 9999" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div id="doc">
    <div id="hd" class="yui3-g header" style="display: none">
        <div class="yui3-u-3-4">
            
                <h1><img src="https://download-codeplex.sec.s-msft.com/Download?ProjectName=joopl&amp;DownloadId=652315&amp;Build=20425" title="{ joopl };"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.2.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div id="sidebar-container" class="yui3-u-1-4">
            
                <img id="project-logo" src="https://download-codeplex.sec.s-msft.com/Download?ProjectName=joopl&amp;DownloadId=652315&amp;Build=20425" title="{ joopl };" onclick="window.location='../index.html'"/>
            
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">> Object-oriented programming</h2>
    <ol id="oop-hints">
        <li><a href="../classes/$namespace.html#method_register" target="_self">Registering namespaces how-to</a></li>
        <li><a href="../classes/$namespace.html#method_using" target="_self">Importing namespaces</a></li>
        <li><a href="../classes/$def.html#class-define" target="_self">Define a class how-to</a></li>
        <li><a href="../classes/$def.html#class-constructors" target="_self">Class constructors</a></li>
        <li><a href="../classes/$def.html#class-properties" target="_self">Class properties</a></li>
        <li><a href="../classes/$def.html#class-methods" target="_self">Class methods</a></li>
        <li><a href="../classes/$def.html#class-events" target="_self">Custom events how-to</a></li>
        <li><a href="../classes/$def.html#class-instances" target="_self">Creating class instances how-to</a></li>
        <li><a href="../classes/$def.html#class-inheritance" target="_self">Class inheritance how-to</a></li>
        <li><a href="../classes/$def.html#class-polymorphism" target="_self">Class polymorphism how-to</a></li>
        <li><a href="../classes/$enumdef.html#index" target="_self">Enumerations</a></li>
        <li><a href="../classes/Attribute.html#index" target="_self">Custom metadata: attributes</a></li>
    </ol>

    <h2 class="off-left">> Keywords</h2>
    <ol id="keyword-list"> 
        <li><a href="../classes/$namespace.html#namespace-global" target="_self"><strong>$global</strong></a></li>
        <li><a href="../classes/$def.html" target="_self"><strong>$def</strong></a></li>
        <li><a href="../classes/$enumdef.html" target="_self"><strong>$enumdef</strong></a></li>
        <li><a href="../classes/$def.html#class-istypeof" target="_self">Object.<strong>isTypeOf</strong></a></li>
    </ol>


    <h2 class="off-left">> API reference</h2>
    <ol id="class-list"> 
        <li><a href="../classes/Attribute.html" target="_self"><strong>joopl.Attribute</strong></a></li>
        <li><a href="../classes/Enum.html" target="_self"><strong>joopl.Enum</strong></a></li>
        <li><a href="../classes/EnumValue.html" target="_self"><strong>joopl.EnumValue</strong></a></li>
        <li><a href="../classes/Type.html" target="_self"><strong>joopl.Type</strong></a></li>
    </ol>

    <h2 class="off-left">> Quick links</h2>
    <ol id="quick-links">
        <li><a href="https://groups.google.com/forum/#!forum/joopl" target="_blank">jOOPL Google Group</a></li>
        <li><a href="https://github.com/mfidemraizer/joopl" target="_blank">jOOPL on GitHub</a></li>
        <li><a href="http://cdn.jsdelivr.net/joopl/2.3.0/joopl.min.js" target="_blank"><strong>Download minified jOOPL 2.3.0 (CDN)</strong></a></li>
        <li><a href="https://github.com/mfidemraizer/joopl/issues" target="_blank">Issue tracker</a></li>
    </ol>

    <div id="api-tabview" class="tabview" style="display: none">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/$def.html">$def</a></li>
            
                <li><a href="../classes/$enumdef.html">$enumdef</a></li>
            
                <li><a href="../classes/$namespace.html">$namespace</a></li>
            
                <li><a href="../classes/Attribute.html">Attribute</a></li>
            
                <li><a href="../classes/Enum.html">Enum</a></li>
            
                <li><a href="../classes/EnumValue.html">EnumValue</a></li>
            
                <li><a href="../classes/Type.html">Type</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Now on: Attribute</h1>
<div class="box meta">
    

    

    

    
        <p>Available since 2.3.0</p>
    
</div>



<div class="box intro">
    <p>Represents the base class for any attribute.</p>

<h2 id="index">Index</h2>

<ul>
<li>1.0. <a href="#attribute-definition">What is an attribute?</a></li>
<li>2.0. <a href="#attribute-howto">How to implement and consume an attribute</a>
<ul><li>2.1. <a href="#attribute-params">Attributes with parameters</a></li></ul></li>
</ul>

<h2 id="attribute-definition">1.0 What is an attribute?</h2>

<p>Usually class definitions contain a class constructor, properties, methods and/or events, also known as <em>class members</em>. Class members define the information and behavior of a given class. </p>

<p>In some cases, classes require some descriptive information that may be useful by the consumers. </p>

<p>For example, a class may need to define that requires user authentication and the minimum security role to use its members is <em>administrator</em>. </p>

<p>How can an arbitrary class tell the environment "<em>I will not work if the authenticated user is not an administrator</em>"? <strong>The answer is <em>attributes</strong>.</em></p>

<p>An attribute is an inherited class of <code>Attribute</code> which defines some metadata that can be identified by other pieces and it is added to the class definition during desing-time.</p>

<p>Finally, a class supports as many attributes as the code requires. The <code>$attributes</code> parameters for the <code>$def</code> operator is an array of attributes.</p>

<h2 id="attribute-howto">2.0 How to implement and consume an attribute</h2>

<p>The so-called <em>I will not work if the authenticated user is not an administrator</em> attribute may be implemented as a class called <code>RequiresAuthenticationAttribute</code>:</p>

<pre class="code prettyprint"><code>$namespace.register("myNamespace", function() {
    this.RequiresAuthenticationAttribute = $def({
        $extends: $global.joopl.Attribute
    });
});
</code></pre>

<p>Later on, some class that may require authentication to work will apply the whole <code>RequiresAuthenticationAttribute</code> as follows:</p>

<pre class="code prettyprint"><code>$namespace.register("myNamespace", function() {
    this.MyClass = $def({
        $attributes: [new RequiresAuthenticationAttribute()]
    });
});
</code></pre>

<p>Finally, some other code which instantiate the <code>MyClass</code> class will inspect if the class requires authentication:</p>

<pre class="code prettyprint"><code>$namespace.register("myNamespace", function() {
    if(this.MyClass.type.hasAttribute(RequiresAuthenticationAttribute)) {
        // Do some stuff if MyClass has the whole attribute
    } else {
        throw Error("Sorry, this code will not execute classes if they do not require authentication...");
    }
});
</code></pre>

<h3 id="attribute-params">2.1 Attributes with parameters</h3>

<p>Sometimes using an attribute <em>as is</em> is not enough, because the attribute itself should contain data. </p>

<p>For example, some code may require some classes to define a default property. <code>Person</code> class may have <code>FirstName</code>, <code>Surname</code> and <code>Nickname</code> properties. Which one will be the one to display in some listing?</p>

<pre class="code prettyprint"><code>$namespace.register("myNamespace", function() {
    this.DefaultPropertyAttribute = $def({
        $extends: $global.joopl.Attribute,
        $constructor: function(args) {
            this.$_.defaultPropertyName = args.defaultPropertyName;
        },
        $members: {
            get defaultPropertyName() { return this.$_.defaultPropertyName; }
        }
    });

    this.Person = $def({
        $attributes: [new DefaultPropertyAttribute("nickname")],
        $constructor: function() {
            this.$_.firstName = null;
            this.$_.surname = null;
            this.$_.nickname = null;
        }
        $members: {
            get firstName() { return this.$_.firstName; },
            set firstName(value) { this.$_.firstName = value; },

            get surname() { return this.$_.surname; },
            set surname(value) { this.$_.surname = value; },

            get nickname() { return this.$_.nickname; },
            set nickname(value) { this.$_.nickname = value; }
        }
    });
});
</code></pre>

<p>Now, some code consumes instances of <code>Person</code> and creates some HTML listing using standard DOM and the display name for the whole person will be taken from the <code>DefaultPropertyValueAttribute</code>:</p>

<pre class="code prettyprint"><code>$namespace.register("myNamespace", function() {

    // The first step is creating a regular instance of Person
    var person = new Person();
    person.firstName = "Matias";
    person.surname = "Fidemraizer";
    person.nickname = "mfidemraizer";

    // Secondly, this is checking if the Person class has the whole attribute
    if(Person.type.hasAttribute(DefaultPropertyAttribute)) {
        // Yes, it has the attribute!
        //
        // Then, the attribute instance is retrieved from the type information
        var defaultProperty = Person.type.getAttribute(DefaultPropertyAttribute);

        // Once the attribute is retrieved, the code can access the "defaultPropertyName" instance property
        // of the DefaultPropertyAttribute
        var defaultPropertyName = defaultProperty.defaultPropertyName;

        // Since any object is also an associative array (this is plain JavaScript!), 
        // the default property can be retrieved by using the "defaultPropertyName" variable
        // as key of the array
        var defaultPropertyValue = person[defaultPropertyName];

        // Finally, this is creating a paragraph containing the defaultPropertyValue. In this case, 
        // it will be "mfidemraizer", because the Person class has the DefaultPropertyAttribute set to "nickname"!
        var p = document.createElement("p");
        p.appendChild(document.createTextNode(defaultPropertyValue));
        document.body.appendChild(p);
    }
});
</code></pre>
</div>



            

            

            
        </div>

        

        

        

        

<div id="classdocs" class="tabview" style="display: none">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index"></div>

    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <footer id="page-footer">
        &copy; 2013 <a href="http://www.linkedin.com/in/mfidemraizer/en" target="_blank">Matias Fidemraizer</a>. jOOPL is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License 2.0.</a>
    </footer>
    <script src="../assets/vendor/prettify/prettify-min.js"></script>
    <script>prettyPrint();</script>
    <script src="../assets/js/yui-prettify.js"></script>
</body>
</html>
