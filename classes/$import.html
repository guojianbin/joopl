<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>jOOPL: $import - joopl</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
   <!-- <script src="../assets/../api.js"></script>
    <script src="../assets/js/api-filter.js"></script>
    <script src="../assets/js/api-list.js"></script>
    <script src="../assets/js/api-search.js"></script>
    <script src="../assets/js/apidocs.js"></script>-->
</head>
<body class="yui3-skin-sam">
    <a href="https://github.com/mfidemraizer/joopl"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 9999" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div id="doc">
    <div id="hd" class="yui3-g header" style="display: none">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="joopl"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.5.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div id="sidebar-container" class="yui3-u-1-4">
            
                <img src="../assets/css/logo.png" style="cursor: pointer" title="joopl" onclick="window.location='../index.html'"/>
            
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
  <a href="../assets/presentation.html" target="_blank"><strong>jOOPL Presentation!</strong></a>
  <h2 class="off-left">> Object-oriented programming</h2>
  <ol id="oop-hints">
    <li>
      <a href="../classes/$namespace.html" target="_self">Namespacing how-to</a>
    </li>
    <li>
      <a href="../classes/$namespace.html#namespace-global" target="_self">$global namespace</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-define" target="_self">Define a class how-to</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-constructors" target="_self">Class constructors</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-properties" target="_self">Class properties</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-methods" target="_self">Class methods</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-events" target="_self">Custom events how-to</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-instances" target="_self">Creating class instances how-to</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-inheritance" target="_self">Class inheritance how-to</a>
    </li>
    <li>
      <a href="../classes/Classes.html#class-polymorphism" target="_self">Class polymorphism how-to</a>
    </li>
    <li>
      <a href="../classes/Classes.html#type-metadata" target="_self">Type metadata</a>
    </li>
    <li>
      <a href="../classes/Enumerations.html#index" target="_self">Enumerations</a>
    </li>
    <li>
      <a href="../classes/joopl.Attribute.html#index" target="_self">Custom metadata: attributes</a>
    </li>
    <li>
      <a href="../classes/Exception%20handling%20best%20practices.html#global-exception-handler" target="_self">
        <strong>Global exception handler</strong>
      </a>
    </li>
    <li>
      <a href="../classes/Exception%20handling%20best%20practices.html" target="_self">
        <strong>Exception handling best practices</strong>
      </a>
    </li>
  </ol>

  <h2 class="off-left">> Asynchronous dependency loading</h2>
  <ol id="oop-hints">
    <li>
      <a href="../classes/joopl-analyzer.html" target="_self">jOOPL Analyzer</a>
    </li>
    <li>
      <a href="../classes/$import.html" target="_self">Asynchronous dependency loading</a>
    </li>
    <li>
      <a href="../classes/grunt-joopl-analyzer.html" target="_self">jOOPL Analyzer GruntJS task</a>
    </li>
  </ol>

  <h2 class="off-left">> Tests</h2>
  <ol id="oop-hints">
    <li>
      <a href="../test/test.html" target="_blank">QUnit tests</a>
    </li>
  </ol>

  <h2 class="off-left">> API reference</h2>
  <ol id="class-list">
    <li>
      <a href="../classes/joopl.Object.html" target="_self">
        <strong>joopl.Object</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Attribute.html" target="_self">
        <strong>joopl.Attribute</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Enum.html" target="_self">
        <strong>joopl.Enum</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.EnumValue.html" target="_self">
        <strong>joopl.EnumValue</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Type.html" target="_self">
        <strong>joopl.Type</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Environment.html" target="_self">
        <strong>joopl.Environment</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Event.html" target="_self">
        <strong>joopl.Event</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.Exception.html" target="_self">
        <strong>joopl.Exception</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.ArgumentException.html" target="_self">
        <strong>joopl.ArgumentException</strong>
      </a>
    </li>
    <li>
      <a href="../classes/joopl.NotImplementedException.html" target="_self">
        <strong>joopl.NotImplementedException</strong>
      </a>
    </li>
  </ol>

  <h2 class="off-left">> Quick links</h2>
  <ol id="quick-links">
    <li>
      <a href="https://groups.google.com/forum/#!forum/joopl" target="_blank">jOOPL Google Group</a>
    </li>
    <li>
      <a href="https://github.com/mfidemraizer/joopl" target="_blank">jOOPL on GitHub</a>
    </li>
    <li>
      <a href="http://cdn.jsdelivr.net/joopl/2.5.2/joopl.min.js" target="_blank">
        <strong>jOOPL 2.5.2 (CDN)</strong>
      </a>
    </li>
    <li>
      <a href="https://github.com/mfidemraizer/joopl/issues" target="_blank">Issue tracker</a>
    </li>
  </ol>

  <div id="api-tabview" class="tabview" style="display: none">
    <ul class="tabs">
      <li>
        <a href="#api-classes">Classes</a>
      </li>
      <li>
        <a href="#api-modules">Modules</a>
      </li>
    </ul>

    <div id="api-tabview-filter">
      <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

    <div id="api-tabview-panel">
      <ul id="api-classes" class="apis classes">
        
        <li>
          <a href="../classes/$import.html">$import</a>
        </li>
        
        <li>
          <a href="../classes/$namespace.html">$namespace</a>
        </li>
        
        <li>
          <a href="../classes/Classes.html">Classes</a>
        </li>
        
        <li>
          <a href="../classes/Enumerations.html">Enumerations</a>
        </li>
        
        <li>
          <a href="../classes/Exception handling best practices.html">Exception handling best practices</a>
        </li>
        
        <li>
          <a href="../classes/grunt-joopl-analyzer.html">grunt-joopl-analyzer</a>
        </li>
        
        <li>
          <a href="../classes/joopl-analyzer.html">joopl-analyzer</a>
        </li>
        
        <li>
          <a href="../classes/joopl.ArgumentException.html">joopl.ArgumentException</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Attribute.html">joopl.Attribute</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Enum.html">joopl.Enum</a>
        </li>
        
        <li>
          <a href="../classes/joopl.EnumValue.html">joopl.EnumValue</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Environment.html">joopl.Environment</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Event.html">joopl.Event</a>
        </li>
        
        <li>
          <a href="../classes/joopl.EventManager.html">joopl.EventManager</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Exception.html">joopl.Exception</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Namespace.html">joopl.Namespace</a>
        </li>
        
        <li>
          <a href="../classes/joopl.NotImplementedException.html">joopl.NotImplementedException</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Object.html">joopl.Object</a>
        </li>
        
        <li>
          <a href="../classes/joopl.Type.html">joopl.Type</a>
        </li>
        
      </ul>

      <ul id="api-modules" class="apis modules">
        
      </ul>
    </div>
  </div>
</div>

            </div>
        </div>
        <div id="main-content" class="yui3-u-3-4">
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Now on: $import</h1>
<div class="box meta">
    

    

    

    
</div>



<div class="box intro">
    <h2 id="index">1.0 Index of contents</h2>

<ul>
<li><a href="#intro">2.0 Introduction to asynchronous dependency loading</a></li>
<li><a href="#modules">3.0 What is a module in jOOPL?</a></li>
<li><a href="#mapmany">4.0 Using <code>$import.mapMany</code></a></li>
<li><a href="#load-modules">5.0 Using <code>$import.modules</code> to asynchronously-loading JavaScript resources</a></li>
<li><a href="#samples">6.0 Samples</a></li>
</ul>
<hr />

<h2 id="intro">2.0 Introduction to asynchronous dependency loading</h2>

<p><a href="#index">Back to index of contents</a></p>
<p>jOOPL introduces asynchronous dependency loading thanks to the new <code>$import</code> object. That is, now jOOPL can load JavaScript files on the client-side.</p>
<p>This is a great advantage, since jOOPL can load many JavaScript files in parallel using modern Web browsers improvements on resource loading.</p>
<p>For those who are not familarized with asynchronous dependency loading, it means that JavaScript files are not imported using <code>&lt;script&gt;</code> elements in the
HTML markup but they are loaded using AJAX under the hoods and parsed on the page asynchronously.</p>
<p>Asynchronous dependency loading configuration and the resource loading itself is managed by the new <code>$import</code> object in the global JavaScript scope.</p>
<p>While <code>$import</code> is absolutely decoupled from how JavaScript resources are loaded, current implementation internally relies on a small but powerful
library called <em>HeadJS</em> (<a href="http://headjs.com">http://headjs.com</a>) for this purpose.   </p>
<p><strong>For that reason, HeadJS should be added with a <code>&lt;script&gt;</code> tag on the HTML page always before <code>$import.modules</code> statements are executed.</strong></p>
<h2 id="modules">3.0 What is a module in jOOPL?</h2>

<p><a href="#index">Back to index of contents</a></p>
<p>Most trending definition of JavaScript module is the <em>module pattern</em>:</p>
<pre class="code prettyprint"><code>var module = {};

(function(module) {
    module.SomeObject = function() {};

    module.SomeObject.prototype = {
        doSomething: function() {
            // Do some stuff
        }
    };
})(module);</code></pre>
<p>In the above sample, a global scope variable called <code>module</code> is the input parameter of a self-invoked function which adds an object prototype to the
whole <code>module</code>. </p>
<p>This ensures that objects are encloused by the <code>module</code> and they are not added to the JavaScript global scope (in browsers, this is the <code>Window</code> object).</p>
<p>In jOOPL, instead of implementing this concept of module, since it incorporates namespacing and classes or enumerations, there is no need for the regular
<em>module pattern</em>: </p>
<pre class="code prettyprint"><code>$namespace.using(&quot;mynamespace.other&quot;, function(other) {
    // Classes are never declared in the global scope but 
    // as namespace object member! 
    other.declareClass(&quot;Boo&quot;);
});</code></pre>
<p>Actually, the definition of module in jOOPL is just an identifier which represents a group of JavaScript resources/files:</p>
<ul>
<li><strong>sampleModule</strong> loads <strong>fileA.js</strong>, <strong>fileB.js</strong>, <strong>fileN.js</strong>...</li>
</ul>
<p>While loaded files by a module could be also non-jOOPL-based code files, it is expected to be JavaScript code developed using jOOPL and this means that
as they will declare classes or enumerations inside namespaces, they will never introduce <em>garbage</em> in the global scope.</p>
<h2 id="mapmany">4.0 Using <code>$import.mapMany</code></h2>

<p><a href="#index">Back to index of contents</a></p>
<p>In order to asynchronously load JavaScript resources, these should be configured before using the <code>$import.mapMany</code> function/method. </p>
<p>This function/method takes an object as parameter, where the object properties are module names and each property
has an array of string, where these strings are absolute or relative paths to a JavaScript resource in order:</p>
<pre class="code prettyprint"><code>$import.mapMany({
    // Some module called &#39;module1&#39; depends on the following 3 files...
    &quot;module1&quot;: [
        &quot;/scripts/someFile.js&quot;,
        &quot;/scripts/someOtherFile.js&quot;,
        &quot;/scripts/yetAnotherFile.js&quot;
    ],

    &quot;module2&quot;: [
        &quot;/scripts/oneFile.js&quot;,
        &quot;/scripts/foo.js&quot;
    ]
});</code></pre>
<blockquote>
<p><strong>NOTE:</strong> <em>Manually configuring JavaScript dependencies may be a waste of time when project has dozens or hundreds of JavaScript source code files. That is why</em>
<em>jOOPL project has introduced <strong>jOOPL Analyzer</strong>, a command-line tool capable of reading source code files in order to automatically generate a massive</em>
<em><code>$import.mapMany</code> statement reflecting dependencies of all declared classes within a source code tree! <a href="joopl-analyzer.html"><strong>Learn more here!!</strong></a></em></p>
</blockquote>
<p><code>$import.mapMany</code> statements must be executed before <code>$import.modules</code> (see next chapter).</p>
<h2 id="load-modules">5.0 Using <code>$import.modules</code> to asynchronously-loading JavaScript resources</h2>

<p><a href="#index">Back to index of contents</a></p>
<p>Once JavaScript resources are configured using <code>$import.mapMany</code> statements, these resources are loaded by using <code>$import.modules</code> statement.</p>
<p><code>$import.modules</code> function/method takes as arguments previously-configured module names and a callback function that will be called once JavaScript resources
have been loaded and parsed on the Web browser:</p>
<pre class="code prettyprint"><code>$import.modules(&quot;module1&quot;, &quot;module2&quot;, function() {
    // Do stuff here when both modules are already loaded!
}); </code></pre>
<p>If HeadJS is not included in the Web page before <code>$import.modules</code> statements, then its callback is still executed but JavaScript modules will not be loaded.</p>
<p>In the other hand, if everything worked as expected, for the time that callback is invoked, specified modules will be already loaded and accessible by callback&#39;s
JavaScript code.</p>
<h2 id="samples">6.0 Samples</h2>

<p><a href="#index">Back to index of contents</a></p>
<p>Check the following code sample on jsFiddle.net. It configures a basic module that will load both jQuery and KnockoutJS in order, and once they get loaded
the callback of <code>$import.modules</code> will check that both libraries were loaded successfully (click on <em>Result</em> tab to execute the whole code):</p>
<iframe width="100%" height="250" src="http://jsfiddle.net/mfidemraizer/JGHY5/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>



            

            

            
        </div>

        

        

        

        

<div id="classdocs" class="tabview" style="display: none">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index"></div>

    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <footer id="page-footer">
        &copy; 2013 <a href="http://www.linkedin.com/in/mfidemraizer/en" target="_blank">Matias Fidemraizer</a>. jOOPL is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License 2.0.</a>
    </footer>
    <script src="../assets/vendor/prettify/prettify-min.js"></script>
    <script>prettyPrint();</script>
    <script src="../assets/js/yui-prettify.js"></script>
</body>
</html>
